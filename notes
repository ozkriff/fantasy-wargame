====================================================== TODO

- усталость юнитов от атак и слишком быстрого движения
  отдых юнитов для удаления усталости и лечения

- добавить конницу со способностью разбега
  основной атакой должен быть проскок через врага

- дальнобойных лучников (но с возможностью рукопашного боя)

- наверное, должны быть разные функции для начала
  рукопашной и стрельбы

- способность 'метание' (как у разведчиков и КВ)

- боевой дух, разбитые отряды, отступление

- огонь прикрытия

- добавить местность: болото

- добавить объекты: замок. деревня.

- хранить в юните его эранные координаты и рисовать по ним

- вынести таблицы местности из unit_type

- добавить зоны видимости, туман войны,
  засады, невидимок (видимы только в радиусе 1 клетки)
  прим: зона видимости полностью пересчитывается 
  на начало хода. при движении юнитов она только
  наращивается(т.е. уже известное не пропадает)

- updatefog должен вызывать не из draw(), а при изменении
  положения отрядов

- добавить базовую систему особенностей и состояний

- функция добавления в список типов юнитов. принимает кучу
  всего и строковое название типа, а не указаель

- читать карту, расстановку юнитов, типы юнитов из файла

- назвать move_index и attack_index понятнее

  move_index -> move_stepnumber/ move_stepcount

- заменить attack_shoot_index обычным индексом атаки.
  тогда приедтся рисовать стрелка отдельным макаром

- isinvis можно переписать и проверять не просто
  соседние клетки, а проходить по всем юнитам врага
  и проверять растояние до нашего юнита. тогда можно
  будет делать обнаружение юнитов на разных дистанциях

- добавить "хвост" за летящим снарядом. 
  рисовать в цикле bzline'ом

- хранить типы юнитов со связанной инфой в текстовых файлах

- особенность: бешенный. пока в радиусе 1 клетки есть враг
  юнит не будет передвигаться

- добавить для некоторых отрядов особенность "построение"
  т.е. построение для атаки, оборонительное, ченить
  увеличивающее скорость передвижения, т.д.

- присмотреться к либам:
  sdl_blitpool - вставить для опитмизации (потом)
  sdl_picofont - создать свой шрифт (на основе terminus) 

- добавить особенность: несколько атак за ход

- map должен быть динамически выделяемой памятью,
  а размеры - переменные а не константы

- убрать неиспользуемые/лишние поверхности
  назвать их понятнее
  удалить все .xpm файлы и назвать их понятнее

=================================================== BUGS
- при атаке область видимости атакующего юнита пропадает
  возможно, исправится обновлением области только
  при движении

- баг: если солдат окружен и ему надо отступить -
  - будет фигня.

- невидимность юнита проверяется не правильно:
  надо искать рядом не просто врагов, а юнитов тукещего игрока

=================================================== NOTES */

- старатсья писать все на английском

- писать короткие функции, что бы пустые строки в них были
  не нужны

- именовать функции согласно тому,что они делают.
  если имена выходят длинные - разбивать функции

- хорошенько разобраться с .png форматом

- начать вести лог изменений (комменты для каждого бекапа)

